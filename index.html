<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Freek</title>

    <!-- Favicon link -->
    <link rel="icon" href="data:image/png;base64,">

    <!-- Font Awesome for the book icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #e0e0e0;
            height: 100vh;
            overflow: hidden;
        }

        /* Container for the buttons */
        .button-container {
            position: fixed;
            top: -100px; /* Start off-screen */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px; /* Space between buttons */
            z-index: 10;
            transition: top 1s ease; /* Slower and smoother transition */
        }

        /* Smaller dropdown toggle button */
        .dropdown-toggle {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(30, 30, 30, 0.9);
            color: #fff;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            border-radius: 50px;
            z-index: 10;
            display: none; /* Hidden by default */
            transition: opacity 1s ease, top 1s ease; /* Smooth fade-in and movement */
            opacity: 0; /* Start invisible */
        }

        .dropdown-toggle:hover {
            background-color: rgba(50, 50, 50, 0.9);
        }

        .button-main,
        .button-icon {
            background-color: rgba(30, 30, 30, 0.9); /* Darker and more modern grey */
            color: #fff;
            padding: 16px 30px;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            font-weight: 500;
            border-radius: 50px; /* Rounded edges */
            transition: all 0.3s ease;
        }

        /* Main Button (The main website) */
        .button-main {
            width: auto;
        }

        /* Icon Button (Book icon) */
        .button-icon {
            width: auto;
            position: relative;
        }

        /* Remove Hover Effects (No expanding or rotating on hover) */
        .button-main:hover,
        .button-icon:hover {
            background-color: rgba(50, 50, 50, 0.9);
        }

        iframe {
            width: 100%;
            height: 100vh;
            margin: 0;
            padding: 0;
            border: none;
            position: relative;
            z-index: 1;
        }

        /* Book Icon Animation */
        .button-icon i {
            font-size: 1.4em;
            position: absolute;
            transition: opacity 0.6s ease-in-out; /* Slower, smoother transition */
            opacity: 0;
        }

        /* Closed book icon is shown by default */
        .button-icon i.closed-book {
            opacity: 1;
        }

        /* Open book icon is hidden by default */
        .button-icon i.open-book {
            opacity: 0;
        }

        /* On hover, the closed book disappears and open book appears */
        .button-icon:hover i.closed-book {
            opacity: 0;
        }

        .button-icon:hover i.open-book {
            opacity: 1;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 20;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease, transform 0.8s ease; /* Slow and smooth transition */
            opacity: 0;
            transform: translateY(20px); /* Start slightly below */
        }

        .modal.active {
            display: flex;
            opacity: 1; /* Fully visible when active */
            transform: translateY(0); /* Move to its final position */
        }

        .modal-content {
            background-color: #1a1a1a;
            padding: 40px;
            border-radius: 15px;
            width: 70%;
            max-width: 600px;
            height: auto;
            max-height: 80%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        /* Close button for modal */
        .close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            color: #fff;
            background: none;
            border: none;
            cursor: pointer;
        }

        /* Agree button */
        .agree-button {
            background: linear-gradient(135deg, #6e8efb, #4a6cf7); /* Gradient background */
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .agree-button:hover {
            background: linear-gradient(135deg, #5a7dee, #3a5af5); /* Darker gradient on hover */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .agree-button:active {
            transform: translateY(0);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .agree-button.agreed {
            background: linear-gradient(135deg, #4caf50, #45a049); /* Green gradient for "Agreed" state */
            cursor: default;
        }

        .agree-button.agreed:hover {
            transform: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .agree-button:disabled {
            background: #555; /* Disabled state */
            cursor: not-allowed;
            opacity: 0.7;
        }

        /* Modal text styling */
        .modal-content h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #fff;
            text-align: center;
        }

        .modal-content p {
            font-size: 16px;
            line-height: 1.6;
            color: #e0e0e0;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
</head>

<body>

    <div class="button-container" id="buttonContainer">
        <button class="button-main" id="mainWebsiteButton">The main website (click me)</button>
        <button class="button-icon" id="openModalButton">
            <!-- Closed book icon -->
            <i class="fas fa-book closed-book"></i>
            <!-- Open book icon -->
            <i class="fas fa-book-open open-book"></i>
        </button>
    </div>

    <!-- Smaller dropdown toggle button -->
    <button class="dropdown-toggle" id="dropdownToggle">▼</button>

    <iframe src="https://freek.to/" width="100%" height="100%" allowfullscreen></iframe>

    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="close" id="closeModal">&times;</button>
            <h2>Important Safety Notice</h2>
            <p>
                For your safety, I want to inform you that the movies on this website are available from four sources: Primary, Secondary, Alt Source, and Possibly 4K Source. If the Primary source isn’t working, I recommend trying the Possibly 4K Source instead of the Secondary or Alt Source, as both of those may contain explicit content. Please understand that if you choose to use either of these sources, you do so at your own discretion and responsibility. Your safety is important to me, so please feel free to report any issues using the form located on the main website.
            </p>
            <button class="agree-button" id="agreeButton" disabled>I Agree (10)</button>
        </div>
    </div>

    <script>
        const modal = document.getElementById('modal');
        const closeModal = document.getElementById('closeModal');
        const agreeButton = document.getElementById('agreeButton');
        const openModalButton = document.getElementById('openModalButton');
        const mainWebsiteButton = document.getElementById('mainWebsiteButton');
        const buttonContainer = document.getElementById('buttonContainer');
        const dropdownToggle = document.getElementById('dropdownToggle');

        // Check if the user has already agreed
        const hasAgreed = localStorage.getItem('hasAgreed');

        // If the user hasn't agreed, show the modal automatically
        if (!hasAgreed) {
            modal.classList.add('active');
            // Hide the close button until the user agrees
            closeModal.style.display = 'none';
        } else {
            // If the user has agreed, update the button text and style
            agreeButton.textContent = 'Agreed';
            agreeButton.classList.add('agreed');
        }

        // 10-second timer for the "I Agree" button
        if (!hasAgreed) {
            let countdown = 10;
            const countdownInterval = setInterval(() => {
                agreeButton.textContent = `I Agree (${countdown})`;
                countdown--;
                if (countdown < 0) {
                    clearInterval(countdownInterval);
                    agreeButton.textContent = 'I Agree';
                    agreeButton.disabled = false;
                }
            }, 1000);
        }

        // When the user clicks "I Agree"
        agreeButton.addEventListener('click', function () {
            if (!hasAgreed) {
                // Save the agreement to localStorage
                localStorage.setItem('hasAgreed', 'true');
                // Hide the modal
                modal.classList.remove('active');
                // Show the close button for future use
                closeModal.style.display = 'block';
                // Update the button text and style
                agreeButton.textContent = 'Agreed';
                agreeButton.classList.add('agreed');
            }
        });

        // Open the modal when the book icon is clicked
        openModalButton.addEventListener('click', function () {
            modal.classList.add('active');
            // Ensure the close button is visible when reopening the modal
            if (localStorage.getItem('hasAgreed')) {
                closeModal.style.display = 'block';
            }
        });

        // Close the modal when the close button is clicked
        closeModal.addEventListener('click', function () {
            modal.classList.remove('active');
        });

        // Open the main website in a new tab when the button is clicked
        mainWebsiteButton.addEventListener('click', function () {
            window.open('https://johnhomn.onrender.com/#', '_blank');
        });

        // Dropdown functionality
        let isExpanded = false;

        // Show the button container for 10 seconds on page load
        setTimeout(() => {
            buttonContainer.style.top = '20px'; // Drop down
            setTimeout(() => {
                buttonContainer.style.top = '-100px'; // Shrink back up
                // Fade in the toggle button after the button container has fully retracted
                dropdownToggle.style.display = 'block'; // Show the toggle button
                setTimeout(() => {
                    dropdownToggle.style.opacity = '1'; // Fade in smoothly
                }, 10); // Small delay to ensure display: block is applied first
            }, 10000); // 10 seconds
        }, 1000); // 1 second delay

        // Toggle between expanded and collapsed states
        dropdownToggle.addEventListener('click', function () {
            if (isExpanded) {
                buttonContainer.style.top = '-100px'; // Collapse
                dropdownToggle.style.top = '20px'; // Move toggle button back up
                dropdownToggle.textContent = '▼'; // Change icon
            } else {
                buttonContainer.style.top = '20px'; // Expand
                dropdownToggle.style.top = '90px'; // Move toggle button closer to buttons
                dropdownToggle.textContent = '▲'; // Change icon
            }
            isExpanded = !isExpanded;
        });
    </script>

</body>

</html>
